"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[216],{8419:(T,u,s)=>{s.r(u),s.d(u,{ProfileModule:()=>y});var c=s(6814),d=s(1430),e=s(9212),a=s(95),g=s(6346),o=s(5020);const p=["profileImageInput"],f=["passwordInput"];function h(l,q){if(1&l&&(e.TgZ(0,"div",40)(1,"strong"),e._uU(2),e.qZA()()),2&l){const t=e.oxw();e.xp6(2),e.Oqu(t.userData2.name)}}const v=[{path:"",component:(()=>{class l{constructor(){this.imageUrl=" https://files.axshare.com/gsc/OW98R1/55/96/b1/5596b16ae58a432bb988c0b0f92f2221/images/profile/u28.svg?pageId=51c8c0b2-5e07-45ce-87e3-f0f9c6a15bf6",this.visible=!1,this.fb=(0,e.f3M)(a.qu),this.UsersService=(0,e.f3M)(g.f),this.router=(0,e.f3M)(d.F0),this.showLogoutModal=!1}onSubmit(){throw new Error("Method not implemented.")}ngOnInit(){this.profileForm=this.fb.group({name:["",a.kI.required],mobile:["",a.kI.required],email:["",a.kI.compose([a.kI.required,a.kI.email])],password:["",a.kI.required],place:["",a.kI.required],zipCode:["",a.kI.required],images:["",a.kI.required]});const t=localStorage.getItem("user_id");console.log(t),t&&this.UsersService.getUserByIdService(t).subscribe(i=>{this.userData1=i,this.userData2=this.userData1.data,console.log(this.userData2)}),this.getUserById(t)}getUserAll(){this.UsersService.getAllUsersService().subscribe(t=>{this.userData=t,this.userArray=this.userData.data,console.log(this.userArray)})}getUserById(t){this.UsersService.getUserByIdService(t).subscribe(i=>{this.editData=i,console.log(this.editData.data),this.profileForm.patchValue({name:this.editData.data.name,mobile:this.editData.data.mobile,email:this.editData.data.email,password:this.editData.data.password,place:this.editData.data.place,zipCode:this.editData.data.zipCode,images:this.editData.data.images})})}updateUser(t){const i={name:this.profileForm.value.name,mobile:this.profileForm.value.mobile,email:this.profileForm.value.email,password:this.profileForm.value.password,place:this.profileForm.value.place,zipCode:this.profileForm.value.zipCode,images:this.profileForm.value.images};t=this.editData.data._id,console.log(t),console.log(i),this.UsersService.updateUserService(i,t).subscribe(r=>{alert("Update Successfully"),console.log("User updated:",r),this.getUserById(t)})}onFileSelected(t){const i=t.target.files[0];if(i){const r=new FileReader;r.onload=()=>{this.imageUrl=r.result},r.readAsDataURL(i)}}closeModal(){}changePasswordLabelClicked(){this.passwordInput.nativeElement.focus()}performLogout(){console.log("Performing logout..."),this.showLogoutModal=!1}toggleLiveDemo(){this.visible=!this.visible}handleLiveDemoChange(t){this.visible=t}static#e=this.\u0275fac=function(i){return new(i||l)};static#o=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-profile"]],viewQuery:function(i,r){if(1&i&&(e.Gf(p,5),e.Gf(f,5)),2&i){let n;e.iGM(n=e.CRH())&&(r.profileImageInput=n.first),e.iGM(n=e.CRH())&&(r.passwordInput=n.first)}},decls:74,vars:4,consts:[["xs",""],[1,"mb-4"],[1,"d-flex","align-items-center","justify-content-between"],[1,"mx-3","d-flex","justify-content-center","align-items-center","mb-3"],[1,"text-center","me-2",2,"width","12% !important"],[1,"img","image-sec",3,"src"],["style","margin-right: 10px;",4,"ngIf"],["color","dark","variant","outline",1,"imgs","ms-4","border","rounded","pe-2","ps-2","bg-light"],["type","file","id","profileImageInput","accept","image/*",2,"display","none",3,"change"],["for","profileImageInput","id","editProfileImageLabel",2,"cursor","pointer"],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card","border-0"],[1,"card-body"],[3,"formGroup"],[1,"form-group","row","mb-3"],["for","name",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["formControlName","name","type","text","id","name","name","name","required","",1,"form-control"],["for","mobile",1,"col-sm-3","col-form-label"],["formControlName","mobile","type","text","id","mobile","name","mobile","required","",1,"form-control"],["for","email",1,"col-sm-3","col-form-label"],["formControlName","email","type","email","id","email","name","email","required","",1,"form-control"],["for","password",1,"col-sm-3","col-form-label"],["formControlName","password","type","password","id","password","name","password","required","",1,"form-control"],["for","place",1,"col-sm-3","col-form-label"],["formControlName","place","type","text","id","place","name","place","required","",1,"form-control"],["for","zipCode",1,"col-sm-3","col-form-label"],["formControlName","zipCode","type","text","id","zipCode","name","zipCode","required","",1,"form-control"],[1,"form-group","row"],[1,"col-sm-9","offset-sm-3"],[1,"btn","btn-dark",2,"margin-right","175px",3,"click"],["color","dark","cButton","",3,"click"],["id","liveDemoModal",3,"visible","visibleChange"],["cModalTitle",""],["cButtonClose","",3,"click"],[1,"text-center"],["cButton","","color","secondary",1,"px-3",3,"click"],["routerLink","/login","cButton","","color","danger",1,"px-3"],[2,"margin-right","10px"]],template:function(i,r){1&i&&(e.TgZ(0,"c-row")(1,"c-col",0)(2,"c-card",1)(3,"c-card-header")(4,"div",2),e._uU(5," Profile "),e.qZA()(),e.TgZ(6,"c-card-body")(7,"div",3)(8,"div",4),e._UZ(9,"img",5),e.qZA(),e.YNc(10,h,3,1,"div",6),e.TgZ(11,"div",7)(12,"input",8),e.NdJ("change",function(m){return r.onFileSelected(m)}),e.qZA(),e.TgZ(13,"label",9),e._uU(14,"Edit profile image"),e.qZA()()(),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"div",13)(19,"div",14)(20,"form",15)(21,"div",16)(22,"label",17),e._uU(23,"Name:"),e.qZA(),e.TgZ(24,"div",18),e._UZ(25,"input",19),e.qZA()(),e.TgZ(26,"div",16)(27,"label",20),e._uU(28,"Mobile No.:"),e.qZA(),e.TgZ(29,"div",18),e._UZ(30,"input",21),e.qZA()(),e.TgZ(31,"div",16)(32,"label",22),e._uU(33,"Email:"),e.qZA(),e.TgZ(34,"div",18),e._UZ(35,"input",23),e.qZA()(),e.TgZ(36,"div",16)(37,"label",24),e._uU(38,"Password:"),e.qZA(),e.TgZ(39,"div",18),e._UZ(40,"input",25),e.qZA()(),e.TgZ(41,"div",16)(42,"label",26),e._uU(43,"Place:"),e.qZA(),e.TgZ(44,"div",18),e._UZ(45,"input",27),e.qZA()(),e.TgZ(46,"div",16)(47,"label",28),e._uU(48,"Zip Code:"),e.qZA(),e.TgZ(49,"div",18),e._UZ(50,"input",29),e.qZA()(),e.TgZ(51,"div",30)(52,"div",31)(53,"button",32),e.NdJ("click",function(){return r.updateUser(r.editData.data._id)}),e._uU(54,"Update"),e.qZA(),e.TgZ(55,"button",33),e.NdJ("click",function(){return r.toggleLiveDemo()}),e._uU(56,"Logout"),e.qZA()()(),e.TgZ(57,"c-modal",34),e.NdJ("visibleChange",function(m){return r.handleLiveDemoChange(m)}),e.TgZ(58,"c-modal-header")(59,"h5",35),e._uU(60,"Logout"),e.qZA(),e.TgZ(61,"button",36),e.NdJ("click",function(){return r.toggleLiveDemo()}),e.qZA()(),e.TgZ(62,"c-modal-body",37),e._uU(63," Clicking on Logout you will be logged out of the portal."),e._UZ(64,"br"),e._uU(65," Do you want to "),e.TgZ(66,"strong"),e._uU(67,"Logout "),e.qZA(),e._uU(68,"? "),e.qZA(),e.TgZ(69,"c-modal-footer")(70,"button",38),e.NdJ("click",function(){return r.toggleLiveDemo()}),e._uU(71," No "),e.qZA(),e.TgZ(72,"button",39),e._uU(73," Yes "),e.qZA()()()()()()()()()()()()()),2&i&&(e.xp6(9),e.Q6J("src",r.imageUrl,e.LSH),e.xp6(),e.Q6J("ngIf",r.userData2),e.xp6(10),e.Q6J("formGroup",r.profileForm),e.xp6(37),e.Q6J("visible",r.visible))},dependencies:[c.O5,d.rH,o.KF4,o.zS7,o.YI7,o.Rbl,o.vPP,o.AkF,o.yue,o.nkx,o.Yp0,o.iok,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,o.Hq3,o.PFQ],styles:[".image-sec[_ngcontent-%COMP%]{width:50%}.mr-custom-margin[_ngcontent-%COMP%]{margin-right:13%}.modal-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center}.modal-dialog[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0003}"]})}return l})(),data:{title:"ManageYourProfile"}}];let b=(()=>{class l{static#e=this.\u0275fac=function(i){return new(i||l)};static#o=this.\u0275mod=e.oAB({type:l});static#t=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(v),d.Bz]})}return l})();var Z=s(9862),U=s(1272),C=s(1303),_=s(3966);let y=(()=>{class l{static#e=this.\u0275fac=function(i){return new(i||l)};static#o=this.\u0275mod=e.oAB({type:l});static#t=this.\u0275inj=e.cJS({imports:[c.ez,b,o.zkK,o.dTQ,o.dGk,U.QX,o.P4_,c.ez,o.zE6,o.qek,a.UX,o.hJ1,o.ejP,o.hJ1,o.ga2,C.N,o.FxY,o.U$I,_.WidgetsModule,Z.JF]})}return l})()}}]);