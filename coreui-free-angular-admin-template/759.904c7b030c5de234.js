"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[759],{4759:(k,h,a)=>{a.r(h),a.d(h,{IndoorModule:()=>y});var l=a(6814),m=a(1430),t=a(9212),c=a(95),g=a(7460),A=a(653),v=a(3955),r=a(5020),u=a(1272);function _(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.submit())})("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.toggleLiveDemo())}),t._uU(1,"Save Changes"),t.qZA()}}function f(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",31),t._UZ(2,"c-avatar",32),t.qZA(),t.TgZ(3,"td")(4,"div"),t._uU(5),t.qZA(),t.TgZ(6,"div")(7,"span"),t._uU(8),t.qZA()()(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td")(16,"button",33),t.NdJ("click",function(){const s=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.viewInActById(s._id))})("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.toggleLiveDemo())}),t.O4$(),t.TgZ(17,"svg",34),t._UZ(18,"path",35)(19,"path",36),t.qZA()(),t.kcU(),t.TgZ(20,"button",37),t.NdJ("click",function(){const s=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.getInActById(s._id))})("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.toggleLiveDemo())})("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.clickAddMember())}),t.O4$(),t.TgZ(21,"svg",38),t._UZ(22,"path",39)(23,"path",40),t.qZA()(),t.kcU(),t.TgZ(24,"button",33),t.NdJ("click",function(){const s=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.deleteObj(s._id))}),t.O4$(),t.TgZ(25,"svg",41),t._UZ(26,"path",42),t.qZA()()()()}if(2&n){const e=p.$implicit;t.xp6(2),t.Q6J("src",e.images[0].url),t.xp6(3),t.hij(" ",e.name," "),t.xp6(3),t.hij(" New | Registered: ",e.formattedCreatedAt," "),t.xp6(2),t.hij(" ",e.place," "),t.xp6(2),t.hij(" ",e.formattedCreatedAt," "),t.xp6(2),t.hij(" $ ",e.price,".00 ")}}const C=[{path:"",component:(()=>{class n{constructor(){this.userId=null,this.inActfbuilder=(0,t.f3M)(c.qu),this.ActivitiesService=(0,t.f3M)(g.B),this.router=(0,t.f3M)(m.F0),this.visible=!1,this.isEditMode=!1,this.isViewClicked=!1,this.selectedImages=[],this.showSaveChanges=!0}toggleLiveDemo(){this.visible=!this.visible}handleLiveDemoChange(e){this.visible=e}ngOnInit(){this.inActForm=this.inActfbuilder.group({name:["",c.kI.required],place:["",c.kI.required],price:["",c.kI.required],images:["",c.kI.required],termComdtion:["",c.kI.required],description:["",c.kI.required],type:["indoor",c.kI.required]}),this.userId&&this.getInActById(this.userId),this.getAllInActs()}onFileChanged(e){this.selectedImages=Array.from(e.target.files),this.inActForm.patchValue({images:this.selectedImages.length>0?this.selectedImages:""})}submit(){console.log(this.inActForm.value);const e=new FormData;e.append("name",this.inActForm.get("name")?.value),e.append("place",this.inActForm.get("place")?.value),e.append("price",this.inActForm.get("price")?.value),e.append("termComdtion",this.inActForm.get("termComdtion")?.value),e.append("description",this.inActForm.get("description")?.value),e.append("type","indoor"),this.selectedImages.forEach(i=>{e.append("images",i,i.name)}),this.userId?this.ActivitiesService.updateActivityService(this.userId,e).subscribe({next:i=>{alert("Activity Updated"),this.selectedImages=[],this.resetForm(),this.getAllInActs()},error:i=>{console.log(i)}}):this.ActivitiesService.createActivitiesService(e).subscribe({next:i=>{alert("New Indoor Activity Created"),this.selectedImages=[],this.resetForm(),this.getAllInActs()},error:i=>{console.log(i)}})}clickAddMember2(){this.resetForm()}resetForm(){this.inActForm.reset(),this.selectedImages=[],this.userId=null,this.showSaveChanges=!0}clickAddMember(){this.inActForm.reset(),this.isEditMode=!1,this.isViewClicked=!1,this.showSaveChanges=!0}getAllInActs(){this.ActivitiesService.getAllActivitiesService().subscribe({next:e=>{e&&e.data&&Array.isArray(e.data)?this.inActData=e.data.filter(o=>"indoor"===o.type).map(o=>({...o,formattedCreatedAt:(0,A.J)(new Date(o.createdAt))?(0,v.WU)(new Date(o.createdAt),"yyyy-MM-dd"):"Invalid Date"})):(console.error("Response does not contain any indoor activity data:",e),this.inActData=[])},error:e=>{console.error("Error fetching indoor activities:",e),this.inActData=[]}})}deleteObj(e){confirm("Are you sure you want to delete this Indoor Activity ?")&&this.ActivitiesService.deleteActivitiesService(e).subscribe({next:i=>{alert("Indoor Activity Deleted"),this.getAllInActs()},error:i=>{console.error(i),alert("Failed to delete Indoor Activity")}})}getInActById(e){this.ActivitiesService.getActivitiesService(e).subscribe(i=>{this.editData=i,console.log(this.editData.data),this.userId=this.editData.data._id,this.inActForm.patchValue({name:this.editData.data.name,place:this.editData.data.place,price:this.editData.data.price,images:this.editData.data.images,termComdtion:this.editData.data.termComdtion,description:this.editData.data.description}),this.isEditMode=!0,this.isViewClicked=!1,this.showSaveChanges=!0})}viewInActById(e){this.ActivitiesService.getActivitiesService(e).subscribe(i=>{this.editData=i,console.log(this.editData.data),this.inActForm.patchValue({name:this.editData.data.name,place:this.editData.data.place,price:this.editData.data.price,images:this.editData.data.images,termComdtion:this.editData.data.termComdtion,description:this.editData.data.description}),this.isEditMode=!1,this.isViewClicked=!0,this.showSaveChanges=!1})}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-indoor"]],inputs:{userId:"userId"},decls:73,vars:8,consts:[["xs",""],[1,"mb-4"],[1,"d-flex","align-items-center","justify-content-between"],["cButton","",1,"ms-md-2",3,"click"],["size","lg","id","liveDemoModal",3,"visible","visibleChange"],["cModalTitle",""],["cButtonClose","",3,"click"],["cForm","",3,"formGroup"],[3,"md"],["cLabel","","for","name"],[2,"color","red"],["formControlName","name","id","name","type","text","cFormControl","","placeholder","Add Activity Name"],["cLabel","","for","place"],["formControlName","place","id","place","type","text","cFormControl","","placeholder","Add Place"],["cLabel","","for","file"],["multiple","","cFormControl","","id","file","type","file","value","Enter Activity Image",3,"change"],[1,"my-2"],["cLabel","","for","price"],["formControlName","price","id","price","type","text","cFormControl","","placeholder","Add Price"],["cLabel","","for","termComdtion"],["formControlName","termComdtion","id","termComdtion","type","text","cFormControl","","placeholder","Add Terms And Comdtions"],["cLabel","","for","description"],["formControlName","description","id","description","type","text","cFormControl","","placeholder","Add Description"],["cButton","","color","secondary",3,"click"],["cButton","","color","success",3,"click",4,"ngIf"],["align","middle","cTable","",1,"mb-0","border",3,"hover","responsive","striped"],["cTableColor","light"],[1,"text-center","ps-0"],["cIcon","","name","cilPeople"],[4,"ngFor","ngForOf"],["cButton","","color","success",3,"click"],[1,"text-center"],["shape","rounded-1","size","md","status","Info",2,"width","3rem","height","2rem",3,"src"],[1,"border-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-eye"],["d","M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"],["d","M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"],[1,"border-0","mx-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil-square"],["d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"],["fill-rule","evenodd","d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash3"],["d","M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"]],template:function(i,o){1&i&&(t.TgZ(0,"c-row")(1,"c-col",0)(2,"c-card",1)(3,"c-card-header")(4,"div",2),t._uU(5," Manage Indoor Activities "),t.TgZ(6,"button",3),t.NdJ("click",function(){return o.toggleLiveDemo()})("click",function(){return o.clickAddMember()}),t._uU(7," Add New Indoor Activity "),t.qZA()()(),t.TgZ(8,"c-modal",4),t.NdJ("visibleChange",function(d){return o.handleLiveDemoChange(d)}),t.TgZ(9,"c-modal-header")(10,"h5",5),t._uU(11),t.qZA(),t.TgZ(12,"button",6),t.NdJ("click",function(){return o.toggleLiveDemo()}),t.qZA()(),t.TgZ(13,"c-modal-body")(14,"form",7)(15,"c-row")(16,"c-col",8)(17,"div")(18,"label",9),t._uU(19,"Add Activity Name "),t.TgZ(20,"span",10),t._uU(21,"*"),t.qZA()(),t._UZ(22,"input",11),t.qZA()(),t.TgZ(23,"c-col",8)(24,"div")(25,"label",12),t._uU(26,"Add Place"),t.qZA(),t._UZ(27,"input",13),t.qZA()(),t.TgZ(28,"c-col",8)(29,"div")(30,"label",14),t._uU(31,"Upload Pictures "),t.TgZ(32,"span",10),t._uU(33,"*"),t.qZA()(),t.TgZ(34,"input",15),t.NdJ("change",function(d){return o.onFileChanged(d)}),t.qZA()()()(),t.TgZ(35,"c-row",16)(36,"c-col",8)(37,"div")(38,"label",17),t._uU(39,"Add Price"),t.qZA(),t._UZ(40,"input",18),t.qZA()(),t.TgZ(41,"c-col",8)(42,"div")(43,"label",19),t._uU(44,"Add Terms And Comdtions"),t.qZA(),t._UZ(45,"input",20),t.qZA()(),t.TgZ(46,"c-col",8)(47,"div")(48,"label",21),t._uU(49,"Add Description"),t.qZA(),t._UZ(50,"input",22),t.qZA()()()()(),t.TgZ(51,"c-modal-footer")(52,"button",23),t.NdJ("click",function(){return o.toggleLiveDemo()}),t._uU(53,"Close"),t.qZA(),t.YNc(54,_,2,0,"button",24),t.qZA()(),t.TgZ(55,"c-card-body")(56,"table",25)(57,"thead",26)(58,"tr")(59,"th",27),t.O4$(),t._UZ(60,"svg",28),t.qZA(),t.kcU(),t.TgZ(61,"th"),t._uU(62,"Activity Name"),t.qZA(),t.TgZ(63,"th"),t._uU(64,"Place"),t.qZA(),t.TgZ(65,"th"),t._uU(66,"Date"),t.qZA(),t.TgZ(67,"th"),t._uU(68,"Price"),t.qZA(),t.TgZ(69,"th"),t._uU(70,"Action"),t.qZA()()(),t.TgZ(71,"tbody"),t.YNc(72,f,27,6,"tr",29),t.qZA()()()()()()),2&i&&(t.xp6(8),t.Q6J("visible",o.visible),t.xp6(3),t.hij(" ",o.isEditMode?"Edit Indoor Activity Details":o.isViewClicked?"View Indoor Activity Details":"Add New Indoor Activity"," "),t.xp6(3),t.Q6J("formGroup",o.inActForm),t.xp6(40),t.Q6J("ngIf",o.showSaveChanges),t.xp6(2),t.Q6J("hover",!0)("responsive",!0)("striped",!0),t.xp6(16),t.Q6J("ngForOf",o.inActData))},dependencies:[l.sg,l.O5,r.KF4,r.zS7,r.YI7,r.Rbl,r.vPP,r.AkF,r.yue,r.nkx,u.ar,r.Yp0,r.iok,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,r.Hq3,r.PFQ,r.$_X,r.oHf,r.eFW,r.Ao0,r.auY,r.io7]})}return n})(),data:{title:"IndoorActivities"}}];let I=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#i=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(C),m.Bz]})}return n})();var Z=a(9862),b=a(1303),T=a(3966);let y=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#i=this.\u0275inj=t.cJS({imports:[l.ez,I,r.zkK,r.dTQ,r.dGk,u.QX,r.P4_,l.ez,r.zE6,r.qek,c.UX,r.hJ1,r.ejP,r.hJ1,r.ga2,b.N,r.FxY,r.U$I,T.WidgetsModule,Z.JF]})}return n})()}}]);