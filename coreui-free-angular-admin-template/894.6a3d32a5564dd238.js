"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[894],{8894:(w,u,l)=>{l.r(u),l.d(u,{UsersModule:()=>A});var d=l(6814),m=l(1430),e=l(9212),a=l(95),g=l(6346),i=l(5020),h=l(1272);function _(o,p){if(1&o){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.submit())})("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.toggleLiveDemo())}),e._uU(1,"Save Changes"),e.qZA()}}function b(o,p){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td",34),e._UZ(2,"c-avatar",35),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"button",36),e.NdJ("click",function(){const n=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.viewUserById(n._id))})("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.toggleLiveDemo())}),e.O4$(),e.TgZ(15,"svg",37),e._UZ(16,"path",38)(17,"path",39),e.qZA()(),e.kcU(),e.TgZ(18,"button",40),e.NdJ("click",function(){const n=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.getUserById(n._id))})("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.toggleLiveDemo())})("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.clickAddMember())}),e.O4$(),e.TgZ(19,"svg",41),e._UZ(20,"path",42)(21,"path",43),e.qZA()(),e.kcU(),e.TgZ(22,"button",36),e.NdJ("click",function(){const n=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.deleteMember(n._id))}),e.O4$(),e.TgZ(23,"svg",44),e._UZ(24,"path",45),e.qZA()()()()}if(2&o){const t=p.$implicit;e.xp6(2),e.Q6J("src",t.images&&t.images.length>0?t.images[0].url:null),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.email," "),e.xp6(2),e.hij(" ",t.place," "),e.xp6(2),e.hij(" ",t.mobile," "),e.xp6(2),e.hij(" ",t.zipCode," ")}}const U=[{path:"",component:(()=>{class o{constructor(){this.userId=null,this.fb=(0,e.f3M)(a.qu),this.UsersService=(0,e.f3M)(g.f),this.router=(0,e.f3M)(m.F0),this.activePage=2,this.visible=!1,this.isEditMode=!1,this.isViewClicked=!1,this.selectedImages=[],this.showSaveChanges=!0}toggleLiveDemo(){this.visible=!this.visible}handleLiveDemoChange(t){this.visible=t}ngOnInit(){this.userForm=this.fb.group({name:["",a.kI.required],mobile:["",a.kI.required],email:["",a.kI.compose([a.kI.required,a.kI.email])],password:["",a.kI.required],place:["",a.kI.required],zipCode:["",a.kI.required],images:["",a.kI.required]}),this.userId&&this.getUserById(this.userId),this.getAllUsers()}onFileChanged(t){this.selectedImages=Array.from(t.target.files),this.userForm.patchValue({images:this.selectedImages.length>0?this.selectedImages:""})}submit(){console.log(this.userForm.value);const t=new FormData;t.append("name",this.userForm.get("name")?.value),t.append("mobile",this.userForm.get("mobile")?.value),t.append("email",this.userForm.get("email")?.value),t.append("password",this.userForm.get("password")?.value),t.append("place",this.userForm.get("place")?.value),t.append("zipCode",this.userForm.get("zipCode")?.value),this.selectedImages.forEach(s=>{t.append("images",s,s.name)}),this.userId?this.UsersService.updateUserService(this.userId,t).subscribe({next:s=>{alert("User Updated"),this.selectedImages=[],this.resetForm(),this.getAllUsers()},error:s=>{console.log(s)}}):this.UsersService.createUserService(t).subscribe({next:s=>{alert("User Created"),this.selectedImages=[],this.resetForm(),this.getAllUsers()},error:s=>{console.log(s)}})}clickAddMember2(){this.resetForm()}resetForm(){this.userForm.reset(),this.selectedImages=[],this.userId=null,this.showSaveChanges=!0}clickAddMember(){this.userForm.reset(),this.isEditMode=!1,this.isViewClicked=!1,this.showSaveChanges=!0}getAllUsers(){this.UsersService.getAllUsersService().subscribe(t=>{this.userData=t,this.userData=this.userData.data,console.log(this.userData)})}deleteMember(t){confirm("Are you sure you want to delete this Member ?")&&this.UsersService.deleteUserService(t).subscribe({next:s=>{alert("Member Deleted"),this.getAllUsers()},error:s=>{console.error(s),alert("Failed to delete Member")}})}getUserById(t){this.UsersService.getUserByIdService(t).subscribe(s=>{this.editData=s,console.log(this.editData.data),this.userId=this.editData.data._id,this.userForm.patchValue({name:this.editData.data.name,mobile:this.editData.data.mobile,email:this.editData.data.email,password:this.editData.data.password,place:this.editData.data.place,zipCode:this.editData.data.zipCode,images:this.editData.data.images}),this.isEditMode=!0,this.isViewClicked=!1,this.showSaveChanges=!0})}viewUserById(t){this.UsersService.getUserByIdService(t).subscribe(s=>{this.editData=s,console.log(this.editData.data),this.userForm.patchValue({name:this.editData.data.name,mobile:this.editData.data.mobile,email:this.editData.data.email,password:this.editData.data.password,place:this.editData.data.place,zipCode:this.editData.data.zipCode,images:this.editData.data.images}),this.isEditMode=!1,this.isViewClicked=!0,this.showSaveChanges=!1})}static#e=this.\u0275fac=function(s){return new(s||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-users"]],inputs:{userId:"userId"},decls:81,vars:8,consts:[["xs",""],[1,"mb-4"],[1,"d-flex","align-items-center","justify-content-between"],["cButton","",1,"ms-md-2",3,"click"],["size","lg","id","liveDemoModal",3,"visible","visibleChange"],["cModalTitle",""],["cButtonClose","",3,"click"],["cForm","",3,"formGroup"],[3,"md"],["cLabel","","for","name"],[2,"color","red"],["formControlName","name","id","name","type","text","cFormControl","","placeholder","Add User Name"],["cLabel","","for","mobile"],["formControlName","mobile","id","mobile","type","text","cFormControl","","placeholder","Add Mobile Number"],["cLabel","","for","file"],["multiple","","cFormControl","","id","file","type","file","value","Enter Profile Image",3,"change"],[1,"my-2"],["cLabel","","for","email"],["formControlName","email","id","email","type","email","cFormControl","","placeholder","Add Email"],["cLabel","","for","password"],["formControlName","password","id","password","type","password","cFormControl","","placeholder","Add Password"],["cLabel","","for","place"],["formControlName","place","id","place","type","text","cFormControl","","placeholder","Add State"],[1,"col-md-4",3,"md"],["cLabel","","for","zipCode"],["formControlName","zipCode","id","zipCode","type","text","cFormControl","","placeholder","Add Zipcode"],["cButton","","color","secondary",3,"click"],["cButton","","color","success",3,"click",4,"ngIf"],["align","middle","cTable","",1,"mb-0","border",3,"hover","responsive","striped"],["cTableColor","light"],[1,"text-center","ps-0"],["cIcon","","name","cilPeople"],[4,"ngFor","ngForOf"],["cButton","","color","success",3,"click"],[1,"text-center"],["shape","rounded-1","size","md","status","Info",2,"width","3rem","height","2rem",3,"src"],[1,"border-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-eye"],["d","M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"],["d","M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"],[1,"border-0","mx-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil-square"],["d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"],["fill-rule","evenodd","d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash3"],["d","M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"]],template:function(s,r){1&s&&(e.TgZ(0,"c-row")(1,"c-col",0)(2,"c-card",1)(3,"c-card-header")(4,"div",2),e._uU(5," User Management "),e.TgZ(6,"button",3),e.NdJ("click",function(){return r.toggleLiveDemo()})("click",function(){return r.clickAddMember()}),e._uU(7," Add New User "),e.qZA()()(),e.TgZ(8,"c-modal",4),e.NdJ("visibleChange",function(c){return r.handleLiveDemoChange(c)}),e.TgZ(9,"c-modal-header")(10,"h5",5),e._uU(11),e.qZA(),e.TgZ(12,"button",6),e.NdJ("click",function(){return r.toggleLiveDemo()}),e.qZA()(),e.TgZ(13,"c-modal-body")(14,"form",7)(15,"c-row")(16,"c-col",8)(17,"div")(18,"label",9),e._uU(19,"Add Name "),e.TgZ(20,"span",10),e._uU(21,"*"),e.qZA()(),e._UZ(22,"input",11),e.qZA()(),e.TgZ(23,"c-col",8)(24,"div")(25,"label",12),e._uU(26,"Add Mobile Number"),e.qZA(),e._UZ(27,"input",13),e.qZA()(),e.TgZ(28,"c-col",8)(29,"div")(30,"label",14),e._uU(31,"Upload Picture"),e.TgZ(32,"span",10),e._uU(33,"*"),e.qZA()(),e.TgZ(34,"input",15),e.NdJ("change",function(c){return r.onFileChanged(c)}),e.qZA()()()(),e.TgZ(35,"c-row",16)(36,"c-col",8)(37,"div")(38,"label",17),e._uU(39,"Add Email"),e.qZA(),e._UZ(40,"input",18),e.qZA()(),e.TgZ(41,"c-col",8)(42,"div")(43,"label",19),e._uU(44,"Add Password"),e.qZA(),e._UZ(45,"input",20),e.qZA()(),e.TgZ(46,"c-col",8)(47,"div")(48,"label",21),e._uU(49,"Add Place"),e.qZA(),e._UZ(50,"input",22),e.qZA()()(),e.TgZ(51,"c-row")(52,"c-col",23)(53,"div")(54,"label",24),e._uU(55,"Add Zipcode"),e.qZA(),e._UZ(56,"input",25),e.qZA()()()()(),e.TgZ(57,"c-modal-footer")(58,"button",26),e.NdJ("click",function(){return r.toggleLiveDemo()}),e._uU(59,"Close"),e.qZA(),e.YNc(60,_,2,0,"button",27),e.qZA()(),e.TgZ(61,"c-card-body")(62,"table",28)(63,"thead",29)(64,"tr")(65,"th",30),e.O4$(),e._UZ(66,"svg",31),e.qZA(),e.kcU(),e.TgZ(67,"th"),e._uU(68,"Name"),e.qZA(),e.TgZ(69,"th"),e._uU(70,"Email"),e.qZA(),e.TgZ(71,"th"),e._uU(72,"Place"),e.qZA(),e.TgZ(73,"th"),e._uU(74,"Mobile No."),e.qZA(),e.TgZ(75,"th"),e._uU(76,"Zip Code"),e.qZA(),e.TgZ(77,"th"),e._uU(78,"Action"),e.qZA()()(),e.TgZ(79,"tbody"),e.YNc(80,b,25,6,"tr",32),e.qZA()()()()()()),2&s&&(e.xp6(8),e.Q6J("visible",r.visible),e.xp6(3),e.hij(" ",r.isEditMode?"Edit User Details":r.isViewClicked?"View User Details":"Add New User"," "),e.xp6(3),e.Q6J("formGroup",r.userForm),e.xp6(46),e.Q6J("ngIf",r.showSaveChanges),e.xp6(2),e.Q6J("hover",!0)("responsive",!0)("striped",!0),e.xp6(18),e.Q6J("ngForOf",r.userData))},dependencies:[d.sg,d.O5,i.KF4,i.zS7,i.YI7,i.Rbl,i.vPP,i.AkF,i.yue,i.nkx,h.ar,i.Yp0,i.iok,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,i.Hq3,i.PFQ,i.$_X,i.oHf,i.eFW,i.Ao0,i.auY,i.io7]})}return o})(),data:{title:"ManageUsers"}}];let v=(()=>{class o{static#e=this.\u0275fac=function(s){return new(s||o)};static#t=this.\u0275mod=e.oAB({type:o});static#s=this.\u0275inj=e.cJS({imports:[m.Bz.forChild(U),m.Bz]})}return o})();var C=l(9862),Z=l(1303),f=l(3966);let A=(()=>{class o{static#e=this.\u0275fac=function(s){return new(s||o)};static#t=this.\u0275mod=e.oAB({type:o});static#s=this.\u0275inj=e.cJS({imports:[d.ez,v,i.zkK,i.dTQ,i.dGk,h.QX,i.P4_,d.ez,i.zE6,i.qek,a.UX,i.hJ1,i.ejP,i.hJ1,i.ga2,Z.N,i.FxY,i.U$I,f.WidgetsModule,C.JF]})}return o})()}}]);